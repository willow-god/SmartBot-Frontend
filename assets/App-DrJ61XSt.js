import{r as i,j as e,B as m}from"./index-6uUUDMWa.js";import{a as l}from"./axios-B4uVmeYG.js";import{s as n}from"./index-D_rdUX3l.js";import{F as x}from"./Table-BZO_dkXx.js";import{T as d}from"./index-BU25TrgY.js";import{S as u}from"./index-ChkSb_ha.js";import"./addEventListener-DXr10HFA.js";import"./index-fJj7ETqQ.js";import"./PurePanel-Bst78Rcv.js";import"./useVariants-BevnM8xs.js";import"./useLocale-CdvqxKGZ.js";import"./index-VNbzaYcY.js";import"./Dropdown-C_SlUWEt.js";import"./useForceUpdate-C8SbLCJF.js";import"./responsiveObserver-csC9s065.js";import"./index-MRVOvF65.js";import"./gapSize-U1swVQyS.js";const g={1:{text:"处理成功",color:"green"},0:{text:"正在处理",color:"blue"},"-1":{text:"处理失败",color:"red"}},f={person:{text:"人脸数据",color:"purple"},car:{text:"车牌数据",color:"orange"}},y=s=>[{title:"ID",dataIndex:"id",key:"id"},{title:"上传时间",dataIndex:"upload_time",key:"upload_time"},{title:"文件名称",dataIndex:"file_name",key:"file_name"},{title:"数据类别",dataIndex:"category",key:"category",render:o=>{const{text:t,color:r}=f[o];return e.jsx(d,{color:r,children:t})}},{title:"处理状态",dataIndex:"processing_status",key:"processing_status",render:o=>{const{text:t,color:r}=g[o];return e.jsx(d,{color:r,children:t})}},{title:"操作",key:"action",render:(o,t)=>e.jsx(u,{size:"middle",children:e.jsx(m,{danger:!0,onClick:()=>s(t.id),children:"删除"})})}],K=()=>{const[s,o]=i.useState([]),[t,r]=i.useState(!1);i.useEffect(()=>{c()},[]);const c=async()=>{r(!0);try{const a=await l.get("http://localhost:5000/get_videos_info");o(a.data),console.log(a.data)}catch{n.error("获取数据失败")}finally{r(!1)}},p=async a=>{try{await l.post("http://localhost:5000/delete_video_data",{id:a}),n.success("删除成功"),c()}catch{n.error("删除失败")}};return e.jsx(e.Fragment,{children:e.jsx(x,{columns:y(p),dataSource:s,rowKey:"id",loading:t,pagination:{pageSize:8}})})};export{K as default};
