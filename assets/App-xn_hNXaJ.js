import{j as e,B as l}from"./index-6uUUDMWa.js";import{a as d}from"./axios-B4uVmeYG.js";import{F as r}from"./index-Cab7-Lcc.js";import{I as t}from"./index-MRVOvF65.js";import{S as i}from"./index-fJj7ETqQ.js";import{s as m}from"./index-D_rdUX3l.js";import"./responsiveObserver-csC9s065.js";import"./useLocale-CdvqxKGZ.js";import"./useVariants-BevnM8xs.js";import"./PurePanel-Bst78Rcv.js";const{Option:a}=i,F=()=>{const[o]=r.useForm(),n=async s=>{if(s.password!==s.confirmPassword){m.error("两次输入的密码不一致");return}try{await d.post("http://127.0.0.1:5000/add_user",{nickname:s.nickname,email:s.email,password:s.password,role:s.role}),m.success("用户添加成功"),o.resetFields()}catch{m.error("用户添加失败")}};return e.jsxs(r,{form:o,layout:"vertical",onFinish:n,children:[e.jsx(r.Item,{name:"nickname",label:"用户名",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(t,{})}),e.jsx(r.Item,{name:"email",label:"邮箱",rules:[{required:!0,message:"请输入邮箱",type:"email"}],children:e.jsx(t,{})}),e.jsx(r.Item,{name:"password",label:"密码",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(t.Password,{})}),e.jsx(r.Item,{name:"confirmPassword",label:"再次输入密码",rules:[{required:!0,message:"请再次输入密码"}],children:e.jsx(t.Password,{})}),e.jsx(r.Item,{name:"role",label:"权限",rules:[{required:!0,message:"请选择权限"}],children:e.jsxs(i,{placeholder:"请选择权限",children:[e.jsx(a,{value:"admin",children:"Admin"}),e.jsx(a,{value:"user",children:"User"})]})}),e.jsx(r.Item,{children:e.jsx(l,{type:"primary",htmlType:"submit",children:"添加用户"})})]})};export{F as default};
